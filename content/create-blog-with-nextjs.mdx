---
title: Next.jsë¥¼ ì´ìš©í•´ ê°œì¸ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°
publishedAt: "2023-03-15"
summary: Nextë¥¼ ì´ìš©í•´ ë¸”ë¡œê·¸ë¥¼ ë§Œë“  ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤.
---

# Nextë¥¼ ì´ìš©í•´ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°

## ê°œìš”

ì•ì„  [í¬ìŠ¤íŠ¸](https://www.yujiseok.blog/post/the-reason-why-i-made-my-own-blog)ì— ì œ ë¸”ë¡œê·¸ë¥¼ ë§Œë“  ì´ìœ ì™€ ê¸°ìˆ  ìŠ¤íƒì— ëŒ€í•œ ê¸€ì„ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.
ê·¸ ê¸€ì„ í† ëŒ€ë¡œ ì €ì˜ ê°œë°œ ê²½í—˜ì„ ê³µìœ í•˜ê³  ì†Œê°œí•©ë‹ˆë‹¤.

## ê³¼ì •

### 1. Next App ë§Œë“¤ê¸°

ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì œê°€ ì„ íƒí•œ í”„ë ˆì„ì›Œí¬ëŠ” **Next**ì…ë‹ˆë‹¤.
**Static Rendering**ì„ í†µí•´ ë¹Œë“œ ì‹œ ì„œë²„ì— `prerendered` ëœë‹¤ëŠ” ì ì´ ë¸”ë¡œê·¸ë¥¼ ë§Œë“œëŠ” ë° ê°•ë ¥í•œ í˜ì´ë¼ ìƒê°í•´ ì„ íƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

> âœ¨ ì´ì™¸ì—ë„, ë†’ì€ SEO, íŒŒì¼ ì‹œìŠ¤í…œ ê¸°ë°˜ì˜ ë™ì  ë¼ìš°íŒ… ë“± ê°œë°œìë¼ë©´ êµ¬ë¯¸ê°€ ë‹¹ê¸°ëŠ” **cool**í•œ ì¥ì ë“¤ì´ ë§ìŠµë‹ˆë‹¤!

Nextì˜ 13ë²„ì „ì´ ì¶œì‹œë˜ë©´ì„œ ê¸°ì¡´ì˜ `page` ë””ë ‰í„°ë¦¬ì™€ ìœ ì‚¬í•œ ê¸°ëŠ¥ì¸ `app` ë””ë ‰í„°ë¦¬ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.
app ë””ë ‰í„°ë¦¬ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `Server Component`ë¡œ ë™ì‘í•©ë‹ˆë‹¤.

í˜„ì¬ ì €ëŠ” `13.2.4` ë²„ì „ì„ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤. Next 13 ë²„ì „ì˜ app ë””ë ‰í„°ë¦¬ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì— ì…ë ¥í•©ë‹ˆë‹¤.

```bash
pnpm dlx create-next-app@latest --experimental-app

```

ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ ë””ë ‰í„°ë¦¬ êµ¬ì¡°ë¥¼ ê°–ê²Œ ë©ë‹ˆë‹¤.

```bash
ğŸ“¦app
 â”£ ğŸ“‚api
 â”ƒ â”— ğŸ“‚hello
 â”ƒ â”ƒ â”— ğŸ“œroute.ts
 â”£ ğŸ“œfavicon.ico
 â”£ ğŸ“œglobals.css
 â”£ ğŸ“œlayout.tsx
 â”£ ğŸ“œpage.module.css
 â”— ğŸ“œpage.tsx
```

ì—¬ê¸°ì„œ ì£¼ëª©í•  íŒŒì¼ì€ `layout.tsx`ì™€ `page.tsx`ì…ë‹ˆë‹¤.

- **layout.tsx**

layoutì€ ë¼ìš°íŠ¸ë“¤ì˜ ê³µí†µ UIë¥¼ ë‹´ë‹¹í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤.
ì¦‰ navbar, main, footer ë“± ì›¹ì„ êµ¬ì„±í•˜ëŠ”ë° í•„ìš”í•œ ì‹œë§¨í‹± íƒœê·¸ë“¤ì„ ê³µìœ í•˜ê±°ë‚˜ ê³µí†µ ìŠ¤íƒ€ì¼ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> âœ¨ react-router-domì˜ ì¤‘ì²© ë¼ìš°íŒ…ì„ ì´ìš©í•´ layoutì„ ê³µìœ í•˜ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•˜ë‹¤ê³  ë³´ë©´ ì‰½ìŠµë‹ˆë‹¤!

ë¸”ë¡œê·¸ì˜ ê¸°ë³¸ì ì¸ layoutì„ ê·¸ë ¤ì£¼ê¸° ìœ„í•´ layout.tsxë¥¼ í™œìš©í•©ë‹ˆë‹¤. ìŠ¤íƒ€ì¼ë§ì€ `TailwindCSS`ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

```tsx title="layout.tsx"
export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="ko" className={`${pretendard.variable} font-sans`}>
      <head />
      <body className="mx-2 flex flex-col bg-slate-50 antialiased transition-colors delay-75 dark:bg-slate-800">
        <ThemeProviders>
          <Navbar />
          <main className="mx-auto mt-14 w-full max-w-2xl px-4">
            {children}
          </main>
          <Footer />
        </ThemeProviders>
        <AnalyticsWrapper />
      </body>
    </html>
  );
}
```

`ThemeProviders` ì»´í¬ë„ŒíŠ¸ë¥¼ ì´ìš©í•´ ë‹¤í¬ ëª¨ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. ë‹¤í¬ ëª¨ë“œëŠ” `next-themes` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ êµ¬í˜„í•©ë‹ˆë‹¤.
ì´ë•Œ í´ë¼ì´ì–¸íŠ¸ í›…ë“¤(useState, useEffect ë“±)ì„ ì´ìš©í•˜ê¸° ìœ„í•´ì„  `"use client"`ë¥¼ ì‚¬ìš©í•´ ThemeProviders ì»´í¬ë„ŒíŠ¸ë¥¼ `Client Component`ë¡œ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.

```tsx title="components/providers"
"use client";
import { ThemeProvider } from "next-themes";

function ThemeProviders({ children }: { children: React.ReactNode }) {
  return (
    <ThemeProvider enableSystem={true} attribute="class">
      {children}
    </ThemeProvider>
  );
}
export default ThemeProviders;
```

- **page.tsx**

pageëŠ” íŠ¹ì • ë¼ìš°íŠ¸ì˜ UIë¥¼ ë‹´ë‹¹í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤.
app ë””ë ‰í„°ë¦¬ ë‚´ë¶€ì˜ `page.tsx`ëŠ” ë©”ì¸ í˜ì´ì§€ UIë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

### 2. contentlayerë¥¼ í†µí•œ content ê´€ë¦¬

ì €ëŠ” ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë‚˜, HeadlessCMSë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì œ ë¡œì»¬ì— **mdx íŒŒì¼**ë“¤ì„ ê´€ë¦¬í•˜ê¸°ë¡œ ê²°ì •í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ë•Œ íš¨ìœ¨ì ìœ¼ë¡œ mdx íŒŒì¼ë“¤ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ [contentlayer](https://www.contentlayer.dev/)ë¥¼ í™œìš©í•©ë‹ˆë‹¤.
`contentlayer`ëŠ” contentì˜ í˜•íƒœë¥¼ **type-safe**í•œ JSON ë°ì´í„°ë¡œ ë³€í™˜í•´ ì£¼ê³  contentë¥¼ ê´€ë¦¬í•´ ì£¼ëŠ” SDKì…ë‹ˆë‹¤.

contentlayerë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„ , ëª‡ê°€ì§€ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.

1. contentlayerë¥¼ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì— ì…ë ¥í•©ë‹ˆë‹¤.

```bash
pnpm add contentlayer next-contentlayer
```

2. `next dev` ë˜ëŠ” `next build` ì‹œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ `next.config.js` íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.

```js title="next.config.js"
const { withContentlayer } = require("next-contentlayer");
/** @type {import('next').NextConfig} */

const nextConfig = {
  experimental: {
    appDir: true,
  },
};

module.exports = withContentlayer(nextConfig);
```

3. contentlayerê°€ ìƒì„±ë˜ëŠ” ë””ë ‰í„°ë¦¬ì˜ aliasë¥¼ ì„¤ì •í•´ ì£¼ê¸° ìœ„í•´ `tsconfig.json` íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤.

```json title="tsconfig.json"
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "contentlayer/generated": ["./.contentlayer/generated"]
      // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    }
  },
  "include": ["next-env.d.ts", "**/*.tsx", "**/*.ts", ".contentlayer/generated"]
  //                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
}
```

4. contentì˜ schemaë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
   ì„¤ì •ëœ schemaì— ë”°ë¼ contentë“¤ì´ ê°œë³„ ë°ì´í„°ë¡œ ë³€í™˜ì´ ë˜ë©°, ìš°ë¦¬ëŠ” ì´ ë°ì´í„°ë¥¼ ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.
   `contentlayer.config.ts` íŒŒì¼ì„ ìƒì„±í•˜ê³  schemaë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

`defineDocumentType` APIë¥¼ ì´ìš©í•´ mdx íŒŒì¼ì˜ ì†ì„±ê³¼ í•„ë“œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

```ts title="contentlayer.config.ts"
import type { ComputedFields } from "contentlayer/source-files";
import { defineDocumentType, makeSource } from "contentlayer/source-files";
import readingTime from "reading-time";

/** @type {import('contentlayer/source-files').ComputedFields} */
const computedFields: ComputedFields = {
  readingTime: { type: "json", resolve: (doc) => readingTime(doc.body.raw) },
  slug: {
    type: "string",
    resolve: (doc) => doc._raw.flattenedPath,
  },
};

export const Post = defineDocumentType(() => ({
  name: "Post",
  filePathPattern: `**/*.mdx`,
  contentType: "mdx",
  fields: {
    title: {
      type: "string",
      required: true,
    },
    publishedAt: {
      type: "string",
      required: true,
    },
    summary: {
      type: "string",
      required: true,
    },
    image: {
      type: "string",
    },
  },
  computedFields,
}));
```

- **name**: í•„ìˆ˜ ì˜µì…˜ìœ¼ë¡œ ì •ì˜ëœ nameìœ¼ë¡œ íƒ€ì…ê³¼ ë°ì´í„°ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
- **filePathPattern**: glob patternsì„ ì‚¬ìš©í•´ ê²½ë¡œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
- **contentType**: contentì˜ íƒ€ì…ì„ ì •ì˜í•©ë‹ˆë‹¤.
- **computedFields**: ê³„ì‚°ëœ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ì†ì„±ì…ë‹ˆë‹¤.
- **fields**: í•„ë“œëŠ” ë¬¸ì„œì˜ ë°ì´í„° í˜•íƒœë¥¼ ì •ì˜í•˜ëŠ” ì†ì„±ìœ¼ë¡œ, `fronttmatter`ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
  title, publishedAt, summaryì˜ ê²½ìš° í•„ìˆ˜ì ì¸ ì •ë³´ì´ê¸°ì— requiredë¥¼ `true`ë¡œ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.

`makeSource` APIë¥¼ ì´ìš©í•´ contentlayerì— schemaì™€ ì†ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.

```ts title="contentlayer.config.ts"
// ...
import rehypeAutolinkHeadings from "rehype-autolink-headings";
import rehypeSlug from "rehype-slug";
import remarkGfm from "remark-gfm";
import rehypePrettyCode from "rehype-pretty-code";

export default makeSource({
  contentDirPath: "content",
  documentTypes: [Post],
  mdx: {
    remarkPlugins: [remarkGfm],
    rehypePlugins: [
      rehypeSlug,
      [
        rehypePrettyCode,
        {
          theme: "material-theme-palenight",
        },
      ],
      [
        rehypeAutolinkHeadings,
        {
          properties: {
            className: ["anchor"],
          },
        },
      ],
    ],
  },
});
```

- **contentDirPath**: í•„ìˆ˜ ì˜µì…˜ìœ¼ë¡œ contentê°€ ì¡´ì¬í•˜ëŠ” ë£¨íŠ¸ ë””ë ‰í„°ë¦¬ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
- **documentTypes**: í•„ìˆ˜ ì˜µì…˜ìœ¼ë¡œ í”„ë¡œì íŠ¸ì— í•„ìš”í•œ schema ì •ì˜ì…ë‹ˆë‹¤.
  ìœ„ì—ì„œ defineDocumentTypeìœ¼ë¡œ ë§Œë“  `Post`ë¥¼ ë„£ì–´ì¤ë‹ˆë‹¤.
- **mdx**: mdx íŒŒì¼ì„ `HTML`ë¡œ ë³€í™˜í•˜ê¸° ìœ„í•œ í”ŒëŸ¬ê·¸ì¸ë“¤ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
  - **rehype-autolink-headings**: `h1 ~ h6`ì— í•´ë‹¹í•˜ëŠ” í—¤ë”© íƒœê·¸ì— ìë™ìœ¼ë¡œ ë§í¬ë¥¼ ì£¼ì…ì‹œì¼œì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤.
  - **rehype-slug**: í—¤ë”© íƒœê·¸ì— ìë™ìœ¼ë¡œ `id`ë¥¼ ì¶”ê°€í•´ ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤.
  - **remark-gfm**: ê¹ƒí—ˆë¸Œ ë§ˆí¬ë‹¤ìš´ ë¬¸ë²•ì— ë§ê²Œ ë³€í™˜í•´ ì£¼ëŠ” í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤.
  - **rehype-pretty-code**: Syntax highlightingì„ ìœ„í•œ í”ŒëŸ¬ê·¸ì¸ì…ë‹ˆë‹¤.

ìœ„ì™€ ê°™ì€ ê³¼ì •ì„ í†µí•´ contentlayerëŠ” ìë™ìœ¼ë¡œ buildì™€ dev ê³¼ì •ì—ì„œ ë°ì´í„°ë¥¼ `.contentlayer/generated` ë””ë ‰í„°ë¦¬ ì•ˆì— JSON í˜•íƒœë¡œ ìƒì„±í•©ë‹ˆë‹¤.

### 3. contentlayerë¡œ ìƒì„±ëœ JSON ë°ì´í„° ì‚¬ìš©í•˜ê¸°

#### post í˜ì´ì§€ì—ì„œ ëª©ë¡ ë³´ì—¬ì£¼ê¸°

NextëŠ” íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…ì´ë¼ëŠ” í‘ë§ˆìˆ ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. í¬ìŠ¤íŠ¸ ëª©ë¡ì„ ë³¼ ìˆ˜ ìˆëŠ” ë¼ìš°íŠ¸ì¸ post í˜ì´ì§€ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ìš°ì„ 
app ë””ë ‰í„°ë¦¬ì— `post` í´ë”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ìƒì„±ëœ í´ë” ì•ˆì— page.tsxë¥¼ ìƒì„±í•˜ì—¬ post í˜ì´ì§€ì˜ UIë¥¼ ë‹´ë‹¹í•˜ê²Œ í•©ë‹ˆë‹¤.

```bash
ğŸ“¦post
 â”— ğŸ“œpage.tsx
```

page.tsx ë‚´ë¶€ì—ì„œ ê°œë³„ í¬ìŠ¤íŠ¸ë¥¼ ë Œë”ë§ í•´ì£¼ëŠ” ë¡œì§ì„ ì‘ì„±í•©ë‹ˆë‹¤.
ì´ë•Œ, Postë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì •ì˜í•œ documentTypesì˜ ë°ì´í„°(allPosts)ë¥¼ import í•´ì˜µë‹ˆë‹¤.

allPostsëŠ” `Post[]`ë¡œ íƒ€ì…ì´ ì •í•´ì§„ type-safe í•œ ë°ì´í„°ì…ë‹ˆë‹¤.

```tsx
import { allPosts } from "contentlayer/generated";

/** Document types */
export type Post = {
  /** File path relative to `contentDirPath` */
  _id: string;
  _raw: Local.RawDocumentData;
  type: "Post";
  title: string;
  publishedAt: string;
  summary: string;
  image?: string | undefined;
  /** MDX file body */
  body: MDX;
  readingTime: json;
  slug: string;
};
```

> âœ¨ contentlayerê°€ postì˜ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ì„ ì–¸í•´ì¤ë‹ˆë‹¤.
> íƒ€ì…ì— ëŒ€í•œ ê±±ì •ì„ ëœì–´ ì£¼ëŠ” ì—„ì²­ë‚œ í¸ì˜ì„±ì…ë‹ˆë‹¤ ğŸ˜†

ê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ `.map` ë©”ì„œë“œë¥¼ ì´ìš©í•´ ìˆœíšŒí•˜ë©° `jsx`ë¥¼ ë¦¬í„´í•´ì¤ë‹ˆë‹¤.
ì €ëŠ” ìµœì‹ ìˆœìœ¼ë¡œ í¬ìŠ¤íŠ¸ë¥¼ ì •ë ¬í•˜ê¸° ìœ„í•´ `.sort` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•´ ì£¼ì—ˆìŠµë‹ˆë‹¤.

```tsx title="post/page.tsx"
// ...

function PostPage() {
  return (
    <section>
      <h1 className="mb-6 text-3xl font-bold">Post</h1>

      {allPosts
        .sort((a, b) => {
          if (new Date(a.publishedAt) > new Date(b.publishedAt)) return -1;

          return 1;
        })
        .map((post) => (
          <article key={post.slug} className="mb-6">
            <Link href={`/post/${post.slug}`}>
              <h2 className="text-xl font-semibold">{post.title}</h2>
              <h6 className="font-light text-gray-500">{post.summary}</h6>
              <p>
                <small className="mr-2">{post.publishedAt}</small>
              </p>
            </Link>
          </article>
        ))}
    </section>
  );
}
export default PostPage;
```

#### ë™ì  ë¼ìš°íŒ…ì„ ì´ìš©í•œ ê°œë³„ í¬ìŠ¤íŠ¸ ë³´ì—¬ì£¼ê¸°

ë™ì  ë¼ìš°íŒ…ì„ ìœ„í•´ post í´ë” ì•ˆì— `[slug]` í´ë”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
ë¼ìš°íŒ…ì„ ìœ„í•œ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ `generateStaticParams` APIë¥¼ ì´ìš©í•´ ë°›ì•„ì˜µë‹ˆë‹¤.
generateStaticParamsëŠ” ê°ì²´ ë°°ì—´ì„ ë°˜í™˜í•˜ëŠ”ë°, ê°ê°ì˜ ê°ì²´ëŠ” ê°œë³„ ë¼ìš°íŠ¸ì˜ ì •ë³´ë¥¼ ê°–ìŠµë‹ˆë‹¤.

> âœ¨ generateStaticParamsëŠ” ë¹Œë“œ íƒ€ì„ì— ë¼ìš°íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

ìƒì„±ëœ ê°œë³„ ë¼ìš°íŠ¸ íŒŒë¼ë¯¸í„°ë¥¼ `Props`ë¡œ ë„˜ê²¨ì¤ë‹ˆë‹¤.

`.find` ë©”ì„œë“œë¥¼ ì´ìš©í•´ Propsë¡œ ë°›ì€ slugì™€ allPostsì˜ ê°œë³„ í¬ìŠ¤íŠ¸ ì¤‘ slugê°€ ë™ì¼í•œ í¬ìŠ¤íŠ¸ë¥¼ ì°¾ìŠµë‹ˆë‹¤.
ì´ë ‡ê²Œ ì°¾ì€ í¬ìŠ¤íŠ¸ë¥¼ í™”ë©´ì— ë Œë”ë§ í•©ë‹ˆë‹¤.

```tsx title="[slug]/page.tsx"
export async function generateStaticParams() {
  return allPosts.map((post) => ({
    slug: post.slug,
  }));
}

const Post = ({ params }: { params: { slug: string } }) => {
  const post = allPosts.find((post) => post.slug === params.slug);
  if (!post) {
    return false;
  }

  return (
    <section>
      <div className="mb-6">
        <h1 className="mb-1 text-3xl font-semibold">
          <Balancer>{post.title}</Balancer>
        </h1>
        <h4 className="font-light text-gray-700 dark:text-gray-400">
          {post.summary}
        </h4>
        <p>
          <small>{post.publishedAt}</small>{" "}
          <small>{post.readingTime.text}</small>
        </p>
      </div>

      <Mdx code={post.body.code} />
    </section>
  );
};
export default Post;
```

#### useMDXComponent í›…ì„ ì´ìš©í•´ mdx ë Œë”ë§í•˜ê¸°

mdxë¥¼ ë Œë”ë§ í•˜ê¸° ìœ„í•´ì„  contentlayerê°€ ì œê³µí•˜ëŠ” `useMDXComponent` í›…ì„ ì´ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

`[slug]/page.tsx` ê°€ ë‚´ë ¤ì¤€ `post.body.code`ë¥¼ ë°›ì•„ mdxë¥¼ ë Œë”ë§ í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.
ë Œë”ë§ ëœ mdxì˜ íƒ€ì´í¬ê·¸ë˜í”¼ë¥¼ ìœ„í•´ TailwindCSSì˜ [ì˜¤í”¼ì…œ í”ŒëŸ¬ê·¸ì¸](https://tailwindcss.com/docs/typography-plugin) `@tailwindcss/typography`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
mdxë¥¼ ê°ì‹¼ `article` íƒœê·¸ì— `prose`ë¥¼ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.

```tsx title="components/mdx.tsx"
// tailwind.config.js
module.exports = {
  // ...
  plugins: [require("@tailwindcss/typography")],
};

import { useMDXComponent } from "next-contentlayer/hooks";

// ...

export function Mdx({ code }: { code: string }) {
  const Component = useMDXComponent(code);

  return (
    <article className="prose dark:prose-invert prose-h1:text-2xl prose-a:break-all break-keep">
      <Component components={{ ...components }} />
    </article>
  );
}
```

### 4. ë°°í¬ì™€ ë„ë©”ì¸ ë“±ë¡

ì‚¬ì‹¤ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ê¸° ì‹œì‘í–ˆì„ ë•Œ, ë„ë©”ì¸ì„ ë¨¼ì € êµ¬ë§¤í•˜ê³  ì‹œì‘í•˜ì˜€ìŠµë‹ˆë‹¤.

> âœ¨ í™•ì‹¤íˆ ë„ë©”ì¸ì„ êµ¬ë§¤í•˜ë‹ˆ ë™ê¸°ë¶€ì—¬ë„ ë˜ê³  ê°œë°œì´ ë” ì˜ ëìŠµë‹ˆë‹¤ ğŸ˜†

ë°°í¬ì˜ ê²½ìš° Vercelì„ ì´ìš©í•´ ë°°í¬ë¥¼ í•˜ì˜€ìŠµë‹ˆë‹¤.
Vercelì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë„ë©”ì¸ `.vercel.app`ì„ ì‚¬ìš©í•´ë„ ì¢‹ì§€ë§Œ,
ì œ ê°œì¸ ë¸”ë¡œê·¸ì¸ ë§Œí¼ ë„ë©”ì¸ë„ ì§ì ‘ ë“±ë¡í•´ ë³´ìëŠ” ë§ˆìŒìœ¼ë¡œ êµ¬ë§¤ë¥¼ ê²°ì •í–ˆìŠµë‹ˆë‹¤.
ì €ëŠ” [hosting.kr](https://www.hosting.kr/)ë¥¼ í†µí•´ ë„ë©”ì¸ì„ êµ¬ë§¤í•˜ì˜€ìŠµë‹ˆë‹¤.

ë„ë©”ì¸ì„ Vercelì— ë“±ë¡í•˜ê¸° ìœ„í•´ì„  hosting.krì˜ `ë„¤ì„ì„œë²„`ë¥¼ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½í•´ ì£¼ë©´ ë©ë‹ˆë‹¤.

> ns1.hosting.co.kr -> ns1.vercel-dns.com  
> ns2.hosting.co.kr -> ns2.vercel-dns.com

ë„ë©”ì¸ ë“±ë¡ì´ ëë‚˜ë©´, ì´ì œ ì €ë§Œì˜ ë„ë©”ì¸ì„ ê°€ì§„ ë¸”ë¡œê·¸ë¥¼ ë§Œë‚˜ ë³¼ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤!

ì™„ì„±ëœ ì½”ë“œëŠ” [ì´ê³³](https://github.com/yujiseok/yujiseok.blog)ì—ì„œ í™•ì¸í•´ ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## í›„ê¸°

ë¯¸ë£¨ê³  ë¯¸ë¤„ì™”ë˜ ê²ƒì„ í•´ëƒˆì„ ë•Œ ì„±ì·¨ê°ì€ ì—„ì²­ë‚¬ìŠµë‹ˆë‹¤.
ë‚˜ë¥¼ ìœ„í•œ ê³µê°„ì„ ë‚´ ì†ìœ¼ë¡œ ì§ì ‘ ë§Œë“¤ì—ˆë‹¤ëŠ” ê²ƒì´ ì €ì—ê²Œ í° ì˜ë¯¸ë¡œ ë‹¤ê°€ì™”ìŠµë‹ˆë‹¤.
ì œê°€ ì‘ì„±í•œ ì½”ë“œê°€ í™”ë©´ì— ê·¸ë ¤ì§ˆ ë•Œì˜ ê·¸ ì¾Œê°ì„ ëŠë¼ë©°, ì—­ì‹œ ë‚˜ëŠ” ì°½ì‘ í™œë™ì„ í•´ì•¼ í•˜ëŠ” ì‚¬ëŒì´êµ¬ë‚˜ë¼ëŠ” ê²ƒì„ ë˜ë‹¤ì‹œ ëŠë¼ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ë©°, ê°œë°œì´ë¼ëŠ” ì„¸ê³„ë¥¼ ì ‘í•˜ê³  ì¦ê¸°ê³  ìˆë‹¤ëŠ” ê²ƒì´ ì •ë§ ë‹¤í–‰ì´ë¼ëŠ” ìƒê°ì´ ë§ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.
ê°œë°œ ê³µë¶€ë¥¼ ì‹œì‘í•˜ê³  ë°°ìš¸ ê²ƒë„ ë§ê³  ë¬´ì§€ì˜ ëŠªì— ë¹ ì ¸ ë¬´ë ¥ê°ì„ ëŠë‚„ ë•Œì˜ ì œ ìì‹ ê³¼ ì§€ê¸ˆì˜ ì €ë¥¼ ëŒì•„ ë´¤ì„ ë•Œ, ì•„ì§ ê°ˆ ê¸¸ì´ ë©€ì§€ë§Œ ê·¸ë˜ë„
ì œë²• ì„±ì¥í•œ ì œëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆì–´ ê°íšŒê°€ ìƒˆë¡œì› ìŠµë‹ˆë‹¤.

ë¸”ë¡œê·¸ ê°œë°œ ê²½í—˜ì„ ì›ë™ë ¥ìœ¼ë¡œ ì‚¼ì•„ ì•ìœ¼ë¡œ ë” ì¦ê²ê²Œ ê°œë°œí•˜ë©° ë”ìš± ì„±ì¥í•´ì•¼ê² ìŠµë‹ˆë‹¤! ğŸ¥°

---

#### ì¶œì²˜

- https://beta.nextjs.org/docs/
- https://www.npmjs.com/package/next-themes
- https://www.contentlayer.dev/docs
- https://github.com/leerob/leerob.io
